<div class="card bg-white shadow-md rounded-md p-3">
  <div class="container">
    <h1 class="user text-center mb-4">Sign In</h1>
    <hr class="hr">
    <form class="login" (ngSubmit)="login()">
      <div class="col-1">
        <div class="mb-4">
          <input 
            type="text" 
            class="form-input px-2 py-2 rounded border border-gray-300 w-full" 
            placeholder="Email" 
            [(ngModel)]="emailId" 
            name="emailId" 
            required 
            (focus)="clearErrorMessage()"
          >
        </div>
        <div class="mb-4 relative">
          <input 
            type="{{ passwordVisible ? 'text' : 'password' }}" 
            class="form-input px-4 py-2 rounded border border-gray-300 w-full" 
            placeholder="Password" 
            [(ngModel)]="password" 
            name="password" 
            required 
            (focus)="clearErrorMessage()"
          >
          <button 
            class="password-toggle-btn"
            type="button" 
            (click)="togglePasswordVisibility()"
          >
            <span class="material-icons">{{ passwordVisible ? 'visibility' : 'visibility_off' }}</span>
          </button>
        </div>
        <div class="flex flex-col md:flex-row items-center">
          <button class="form-button bg-blue-500 text-white px-4 py-2 rounded mb-2 md:mb-0 md:mr-2 hover:bg-blue-600 w-full md:w-auto" type="submit">
            <span *ngIf="!loading">Submit</span>
            <span *ngIf="loading">Logging in...</span>
          </button>
          <button class="form-button-sub text-gray-500 px-2 py-2 rounded w-full md:w-auto" type="button" routerLink="/forgotpassword">Forgot Password</button>
        </div>
      </div>
    </form>
    <div *ngIf="loading" class="loading-screen">
      <div class="spinner"></div>
    </div>
    <!-- Display error message -->
    <div class="error-message-container">
      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    </div>
  </div>
</div>
